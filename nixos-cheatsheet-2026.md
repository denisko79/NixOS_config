# üßä –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã NixOS (2026)  
*–°–∞–º—ã–µ –Ω—É–∂–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –Ω–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å ‚Äî –±–µ–∑ –≤–æ–¥—ã, —Ç–æ–ª—å–∫–æ –ø—Ä–∞–∫—Ç–∏–∫–∞.*

> üí° –≠—Ç–æ –Ω–µ –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ (–∏—Ö —Å–æ—Ç–Ω–∏!), –∞ –∏–º–µ–Ω–Ω–æ —Ç–æ, —á—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—á—Ç–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ.  
> –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ–º–æ–≥—É—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω–æ–µ.

---

## üîß 1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π

| –ö–æ–º–∞–Ω–¥–∞                                       | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                   | –ü—Ä–∏–º–µ—Ä / –ü–æ—è—Å–Ω–µ–Ω–∏–µ                                  |
| --------------------------------------------- | ------------------------------------------------------------ | --------------------------------------------------- |
| `sudo nixos-rebuild switch`                   | –ü—Ä–∏–º–µ–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ `/etc/nixos/configuration.nix` –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –Ω–æ–≤—É—é generation | **–û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞** –ø–æ—Å–ª–µ –ø—Ä–∞–≤–∫–∏ –∫–æ–Ω—Ñ–∏–≥–∞           |
| `sudo nixos-rebuild boot`                     | –¢–æ –∂–µ —Å–∞–º–æ–µ, –Ω–æ –Ω–æ–≤–∞—è generation —Å—Ç–∞–Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π **—Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏** | –ë–µ–∑–æ–ø–∞—Å–Ω–æ, –µ—Å–ª–∏ –±–æ–∏—à—å—Å—è —Å–ª–æ–º–∞—Ç—å —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é      |
| `sudo nixos-rebuild test`                     | –í—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è (–¥–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –∏–ª–∏ —Å–ª–µ–¥—É—é—â–µ–≥–æ rebuild‚Äô–∞) | –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤                                 |
| `sudo nixos-rebuild dry-run`                  | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞–Ω–æ ‚Äî **–±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π**   | ¬´–°—É—Ö–æ–π –ø—Ä–æ–≥–æ–Ω¬ª –ø–µ—Ä–µ–¥ –æ–ø–∞—Å–Ω—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏            |
| `sudo nixos-rebuild switch --rollback`        | –û—Ç–∫–∞—Ç –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â—É—é generation                               | –°–ø–∞—Å–∞–µ—Ç, –∫–æ–≥–¥–∞ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è               |
| `sudo nixos-rebuild list-generations`         | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö generations                           | –ú–æ–∂–Ω–æ –æ—Ü–µ–Ω–∏—Ç—å, —Å–∫–æ–ª—å–∫–æ –º–µ—Å—Ç–∞ –∑–∞–Ω–∏–º–∞—é—Ç —Å—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏ |
| `sudo nix-collect-garbage -d`                 | –£–¥–∞–ª—è–µ—Ç **–≤—Å–µ —Å—Ç–∞—Ä—ã–µ generations + –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∞–∫–µ—Ç—ã**   | `-d` = delete old generations                       |
| `nix-collect-garbage --delete-older-than 14d` | –£–¥–∞–ª—è–µ—Ç user-generation —Å—Ç–∞—Ä—à–µ 14 –¥–Ω–µ–π                       | –ë–µ–∑ `sudo`, –±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è                   |

---

## üì¶ 2. –ü–æ–∏—Å–∫ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ (`nix profile`)

| –ö–æ–º–∞–Ω–¥–∞                              | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                   | –ü—Ä–∏–º–µ—Ä                                           |
| ------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------ |
| `nix search nixpkgs firefox`         | –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–∞–∫–µ—Ç–∞ –≤ `nixpkgs`                             | `nix search nixpkgs neovim`                      |
| `nix profile install nixpkgs#neovim` | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–∞–∫–µ—Ç –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ñ–∏–ª—å (`~/.nix-profile`) | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: `nix profile install nixpkgs#htop` |
| `nix profile list`                   | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã –≤ –ø—Ä–æ—Ñ–∏–ª–µ                    | ‚Äî                                                |
| `nix profile remove 5`               | –£–¥–∞–ª—è–µ—Ç –ø–∞–∫–µ—Ç –ø–æ –Ω–æ–º–µ—Ä—É –∏–∑ —Å–ø–∏—Å–∫–∞                            | ‚Äî                                                |
| `nix profile upgrade`                | –û–±–Ω–æ–≤–ª—è–µ—Ç –≤—Å–µ –ø–∞–∫–µ—Ç—ã –≤ –ø—Ä–æ—Ñ–∏–ª–µ                               | ‚Äî                                                |

---

## ‚ùÑÔ∏è 3. Flakes (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è!)

> –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ flakes ‚Äî —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã —Å—Ç–∞–Ω—É—Ç –≤–∞—à–∏–º–∏ –æ—Å–Ω–æ–≤–Ω—ã–º–∏.

| –ö–æ–º–∞–Ω–¥–∞                                     | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                   | –ü—Ä–∏–º–µ—Ä                       |
| ------------------------------------------- | -------------------------------------------- | ---------------------------- |
| `sudo nixos-rebuild switch --flake .#nixos` | Rebuild –∏–∑ `flake.nix` –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏  | `#nixos` ‚Äî –∏–º—è —Ö–æ—Å—Ç–∞ –≤ flake |
| `nix flake check`                           | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç flake –Ω–∞ –æ—à–∏–±–∫–∏                    | ‚Äî                            |
| `nix flake update`                          | –û–±–Ω–æ–≤–ª—è–µ—Ç –≤—Å–µ `inputs` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `nixpkgs`) | ‚Äî                            |
| `nix flake lock --update-input nixpkgs`     | –û–±–Ω–æ–≤–ª—è–µ—Ç **—Ç–æ–ª—å–∫–æ** `nixpkgs`               | ‚Äî                            |

---

## üßπ 4. –û—á–∏—Å—Ç–∫–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

| –ö–æ–º–∞–Ω–¥–∞                       | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                         |
| ----------------------------- | -------------------------------------------------- |
| `sudo nix-collect-garbage`    | –£–¥–∞–ª—è–µ—Ç –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø—É—Ç–∏ –≤ `/nix/store`         |
| `sudo nix-collect-garbage -d` | + —É–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ system generations                |
| `sudo nix store optimise`     | –ñ—ë—Å—Ç–∫–∞—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è `/nix/store` ‚Äî —ç–∫–æ–Ω–æ–º–∏—Ç –º–µ—Å—Ç–æ |
| `nix-store --query --roots`   | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –ø–æ—á–µ–º—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—É—Ç—å –Ω–µ —É–¥–∞–ª—è–µ—Ç—Å—è    |
| `du -sh /nix/store`           | –°–∫–æ–ª—å–∫–æ –º–µ—Å—Ç–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –≤–µ—Å—å Nix store              |

---

## üîç 5. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞

| –ö–æ–º–∞–Ω–¥–∞                                | –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç                                               |
| -------------------------------------- | ------------------------------------------------------------ |
| `nixos-option services.openssh.enable` | –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –æ–ø—Ü–∏–∏                            |
| `nixos-option`                         | –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º –æ–ø—Ü–∏—è–º NixOS (**–æ—á–µ–Ω—å —É–¥–æ–±–Ω–æ!**) |
| `man configuration.nix`                | –ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –≤—Å–µ–º –≤–æ–∑–º–æ–∂–Ω—ã–º –æ–ø—Ü–∏—è–º                   |
| `systemctl --user status`              | –°—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö systemd-—Å–µ—Ä–≤–∏—Å–æ–≤                     |
| `nix-channel --list`                   | –ü–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã                                           |
| `nix-channel --update`                 | –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∫–∞–Ω–∞–ª—ã                                          |

---

## ‚ö° 6. –ü–æ–ª–µ–∑–Ω—ã–µ –∞–ª–∏–∞—Å—ã (–¥–æ–±–∞–≤—å—Ç–µ –≤ `~/.zshrc` –∏–ª–∏ `configuration.nix`)

```nix
environment.shellAliases = {
  nrs  = "sudo nixos-rebuild switch";
  nrb  = "sudo nixos-rebuild boot";
  nrt  = "sudo nixos-rebuild test";
  ncg  = "sudo nix-collect-garbage -d";
  ns   = "nix search nixpkgs";
  ncgd = "sudo nix-collect-garbage --delete-older-than 7d";
  nopt = "sudo nix store optimise";
};
```

## ‚úÖ –ö—Ä–∞—Ç–∫–∏–π ¬´must-have¬ª —Å–ø–∏—Å–æ–∫ –Ω–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å

- `sudo nixos-rebuild switch` ‚Äî –ø–æ—Å–ª–µ –ª—é–±–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥–∞
- `nix search nixpkgs ...` ‚Äî –Ω–∞–π—Ç–∏ –ø–∞–∫–µ—Ç
- `nix profile install nixpkgs#...` ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π/–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø–∞–∫–µ—Ç
- `sudo nix-collect-garbage -d` ‚Äî –ø–æ—á–∏—Å—Ç–∏—Ç—å –ø–æ—Å–ª–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
- `sudo nixos-rebuild switch --rollback` ‚Äî —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã–π –æ—Ç–∫–∞—Ç

> üí¨ **–°–æ–≤–µ—Ç**: –∫–∞–∫ —Ç–æ–ª—å–∫–æ –æ—Å–≤–æ–∏—Ç–µ –±–∞–∑–æ–≤—ã–π NixOS ‚Äî –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –Ω–∞ **Flakes + Home Manager**.
> –¢–æ–≥–¥–∞ —Å–ø–∏—Å–æ–∫ —Å—Ç–∞–Ω–µ—Ç –µ—â—ë –∫–æ—Ä–æ—á–µ, –∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ‚Äî –º–æ—â–Ω–µ–µ –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–µ–µ.